# –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –¥—ã—Ä –ø—Ä–æ–µ–∫—Ç–∞ Zabbix-NetBox Sync

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2025-11-13
**–í–µ—Ä—Å–∏—è:** Based on commit e52ca31

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

### 1. **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ = –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚ö†Ô∏è CRITICAL

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü–æ–∏—Å–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ NetBox –∏–¥–µ—Ç –ø–æ `name` (sync.py:546)
- –ï—Å–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è –≤ Zabbix, –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ –ù–û–í–û–ï —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ NetBox
- –°—Ç–∞—Ä–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –±–∞–∑–µ —Å–æ —Å—Ç–∞—Ä—ã–º –∏–º–µ–Ω–µ–º

**–°—Ü–µ–Ω–∞—Ä–∏–π:**
```
Zabbix: esxi-01 ‚Üí esxi-prod-01 (–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ)
NetBox: esxi-01 (–æ—Å—Ç–∞–µ—Ç—Å—è) + esxi-prod-01 (—Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π)
–†–µ–∑—É–ª—å—Ç–∞—Ç: 2 —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ö–æ—Å—Ç–∞
```

**–ö–æ–¥:**
```python
# sync.py:546
device = self.netbox.dcim.devices.get(name=host_name)
```

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `cf_zabbix_hostid` –∫–∞–∫ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –¥–ª—è –ø–æ–∏—Å–∫–∞
- –û–±–Ω–æ–≤–ª—è—Ç—å `name` –µ—Å–ª–∏ hostid —Å–æ–≤–ø–∞–¥–∞–µ—Ç

---

### 2. **–£–¥–∞–ª–µ–Ω–∏–µ —Ö–æ—Å—Ç–∞ –≤ Zabbix –ù–ï —É–¥–∞–ª—è–µ—Ç –≤ NetBox** ‚ö†Ô∏è CRITICAL

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ `decommissioning` –ø–æ—Å–ª–µ 30 –¥–Ω–µ–π –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –§–∏–∑–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ù–ò–ö–û–ì–î–ê –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç (–¥–∞–∂–µ –µ—Å–ª–∏ `DELETE_DECOMMISSIONED=true` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- –ë–∞–∑a NetBox –∑–∞–≥—Ä—è–∑–Ω—è–µ—Ç—Å—è —Å—Ç–∞—Ä—ã–º–∏ –∑–∞–ø–∏—Å—è–º–∏

**–ö–æ–¥:**
```python
# sync.py:256
device.status = 'decommissioning'  # –ù–ï decommissioned!
device.save()
```

**–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:**
```
–î–µ–Ω—å 0: –•–æ—Å—Ç —É–¥–∞–ª–µ–Ω –≤ Zabbix
–î–µ–Ω—å 1-30: –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –æ—Å—Ç–∞–µ—Ç—Å—è "active" –≤ NetBox
–î–µ–Ω—å 31: –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ–º–µ—á–∞–µ—Ç—Å—è "decommissioning"
–î–µ–Ω—å ‚àû: –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –æ—Å—Ç–∞–µ—Ç—Å—è –≤ NetBox –Ω–∞–≤—Å–µ–≥–¥–∞
```

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ N –¥–Ω–µ–π –≤ —Å—Ç–∞—Ç—É—Å–µ decommissioning
- –ò–ª–∏ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –≥—Ä—É–ø–ø—É "Archived"

---

### 3. **Orphaned IP Addresses** ‚ö†Ô∏è CRITICAL

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ï—Å–ª–∏ IP –º–µ–Ω—è–µ—Ç—Å—è –≤ Zabbix, —Å–æ–∑–¥–∞–µ—Ç—Å—è –ù–û–í–´–ô IP –≤ NetBox
- –°—Ç–∞—Ä—ã–π IP –æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ assigned_object (orphan)
- –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö IP –∞–¥—Ä–µ—Å–æ–≤

**–°—Ü–µ–Ω–∞—Ä–∏–π:**
```
1. –•–æ—Å—Ç –∏–º–µ–µ—Ç IP 10.11.1.10
2. IP –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ 10.11.1.20 –≤ Zabbix
3. –í NetBox —Å–æ–∑–¥–∞–µ—Ç—Å—è 10.11.1.20/32
4. IP 10.11.1.10/32 –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–æ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É
```

**–ö–æ–¥:**
```python
# sync.py:750
ip_address = self.netbox.ipam.ip_addresses.get(address=ip_with_mask)
# –ù–µ—Ç –ª–æ–≥–∏–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è —Å—Ç–∞—Ä–æ–≥–æ IP
```

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –Ω–æ–≤–æ–≥–æ IP –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å—Ç–∞—Ä—ã–π primary_ip4
- –£–¥–∞–ª—è—Ç—å –∏–ª–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞—Ç—å —Å—Ç–∞—Ä—ã–π IP –µ—Å–ª–∏ –æ–Ω –∏–∑–º–µ–Ω–∏–ª—Å—è

---

### 4. **–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ NetBox –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è** ‚ö†Ô∏è HIGH

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –û–î–ù–û–ù–ê–ü–†–ê–í–õ–ï–ù–ù–ê–Ø (Zabbix ‚Üí NetBox)
- –ï—Å–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≤—Ä—É—á–Ω—É—é –º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ NetBox, –æ–Ω–∏ –±—É–¥—É—Ç –ü–ï–†–ï–ó–ê–ü–ò–°–ê–ù–´
- –ù–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ –∑–∞—â–∏—Ç—ã —Ä—É—á–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–ü—Ä–∏–º–µ—Ä—ã:**
```
–ê–¥–º–∏–Ω –º–µ–Ω—è–µ—Ç asset_tag –≤ NetBox: "INV-12345"
–°–ª–µ–¥—É—é—â–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è: –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ Zabbix
```

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å "protected fields" –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è
- –ò–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥ "manual_override" –≤ custom_fields

---

### 5. **Rack Position Conflicts** ‚ö†Ô∏è HIGH

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –∑–∞–Ω—è—Ç–æ—Å—Ç—å –ø–æ–∑–∏—Ü–∏–∏ –≤ —Å—Ç–æ–π–∫–µ
- –î–≤–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω—ã –Ω–∞ –æ–¥–Ω—É –∏ —Ç—É –∂–µ –ø–æ–∑–∏—Ü–∏—é U
- NetBox API –º–æ–∂–µ—Ç –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å

**–ö–æ–¥:**
```python
# sync.py:564
if rack_position:
    device_data['position'] = rack_position  # –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
```

**–°—Ü–µ–Ω–∞—Ä–∏–π:**
```
–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ A: Rack01, U10
–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ B: Rack01, U10 (–∫–æ–Ω—Ñ–ª–∏–∫—Ç!)
```

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∑–∞–Ω—è—Ç–æ—Å—Ç—å –ø–æ–∑–∏—Ü–∏–∏ –ø–µ—Ä–µ–¥ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

---

## üü° –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢

### 6. **Site Not Found = Device Not Created**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ï—Å–ª–∏ Site –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ NetBox, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ù–ï —Å–æ–∑–¥–∞–µ—Ç—Å—è (sync.py:471)
- –ù–µ—Ç fallback –Ω–∞ DEFAULT_SITE –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞

**–ö–æ–¥:**
```python
# sync.py:469-474
site = self.netbox.dcim.sites.get(name=site_name)
if not site:
    logger.error(f"  Site {site_name} –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ NetBox")
    return False  # –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ù–ï —Å–æ–∑–¥–∞–µ—Ç—Å—è
```

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DEFAULT_SITE –µ—Å–ª–∏ site_name –Ω–µ –Ω–∞–π–¥–µ–Ω
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é

---

### 7. **Serial Number Duplicates**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã —Å–µ—Ä–∏–π–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤
- –î–≤–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π serial_number
- –ú–æ–∂–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã –≤ –¥–∞–Ω–Ω—ã—Ö Zabbix

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ serial –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å warning –ø—Ä–∏ –¥—É–±–ª–∏–∫–∞—Ç–∞—Ö

---

### 8. **Custom Fields Existence Not Checked**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ö–æ–¥ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç —á—Ç–æ –≤—Å–µ custom fields —Å–æ–∑–¥–∞–Ω—ã –≤ NetBox
- –ï—Å–ª–∏ –ø–æ–ª–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —É–ø–∞–¥–µ—Ç —Å –æ—à–∏–±–∫–æ–π

**–ö–æ–¥:**
```python
# sync.py:529-542
custom_fields = {
    'cpu_model': inventory.get('hardware', ''),
    # ... 11 –¥—Ä—É–≥–∏—Ö –ø–æ–ª–µ–π
}
```

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è custom fields –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- –ò–ª–∏ graceful fallback –µ—Å–ª–∏ –ø–æ–ª–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

---

### 9. **Orphaned Interfaces**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è
- –ï—Å–ª–∏ –ª–æ–≥–∏–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—Å—è –∏ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, —Å—Ç–∞—Ä—ã–µ –æ—Å—Ç–∞–Ω—É—Ç—Å—è

**–ö–æ–¥:**
```python
# sync.py:728
interface_name = "mgmt0"  # –í—Å–µ–≥–¥–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ
```

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ù–ï –∫—Ä–∏—Ç–∏—á–Ω–æ (—Ç–æ–ª—å–∫–æ 1 –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
**–ë—É–¥—É—â–∏–π —Ä–∏—Å–∫:** –ï—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç–µ –¥—Ä—É–≥–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

---

### 10. **Redis Cache Invalidation Issues**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ï—Å–ª–∏ Redis –æ—á–∏—â–µ–Ω –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –í–°–ï —Ö–æ—Å—Ç—ã —Å—á–∏—Ç–∞—é—Ç—Å—è –Ω–æ–≤—ã–º–∏
- –ú–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –º–∞—Å—Å–æ–≤—ã–º –ª–æ–∂–Ω—ã–º "–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º"

**–ö–æ–¥:**
```python
# sync.py:179-182
if not self.redis_client:
    logger.debug("Redis –æ—Ç–∫–ª—é—á–µ–Ω, –≤—Å–µ —Ö–æ—Å—Ç—ã —Å—á–∏—Ç–∞—é—Ç—Å—è –Ω–æ–≤—ã–º–∏")
    return hosts, []  # –í—Å–µ –≤ new_hosts
```

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å fallback –Ω–∞ timestamp –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∏–∑ NetBox
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `last_sync` custom field –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

---

## üü¢ –°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢

### 11. **Manufacturer Name Variations**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π –µ—Å—Ç—å, –Ω–æ –Ω–µ–ø–æ–ª–Ω–∞—è (utils.py:108-117)
- –ú–æ–≥—É—Ç –ø–æ—è–≤–∏—Ç—å—Å—è –¥—É–±–ª–∏–∫–∞—Ç—ã: "Dell", "DELL Inc", "Dell Inc."

**–¢–µ–∫—É—â–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
vendor_mapping = {
    'Dell Inc.': 'Dell',
    'DELL': 'Dell',
    # –ù–æ —á—Ç–æ –µ—Å–ª–∏ –ø—Ä–∏–¥–µ—Ç "Dell Inc"? (–±–µ–∑ —Ç–æ—á–∫–∏)
}
```

**–†–µ—à–µ–Ω–∏–µ:**
- –ë–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è (case-insensitive, —É–±–∏—Ä–∞—Ç—å Inc/Ltd/Co)
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å fuzzy matching

---

### 12. **Location Slug Conflicts**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –õ–æ–∫–∞—Ü–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø–æ name, –Ω–æ slug –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –†–∞–∑–Ω—ã–µ –∏–º–µ–Ω–∞ –º–æ–≥—É—Ç –¥–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π slug

**–ü—Ä–∏–º–µ—Ä:**
```
"City-Astana Street 1" ‚Üí "city-astana-street-1"
"City Astana Street-1" ‚Üí "city-astana-street-1" (–∫–æ–Ω—Ñ–ª–∏–∫—Ç!)
```

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å slug –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º
- –î–æ–±–∞–≤–ª—è—Ç—å —Å—É—Ñ—Ñ–∏–∫—Å –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ

---

### 13. **Device Status Recovery Not Handled**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ï—Å–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ–º–µ—á–µ–Ω–æ "decommissioning", –Ω–æ —Å–Ω–æ–≤–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ Zabbix
- –°—Ç–∞—Ç—É—Å –ù–ï –º–µ–Ω—è–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ "active" –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–°—Ü–µ–Ω–∞—Ä–∏–π:**
```
–î–µ–Ω—å 1: –•–æ—Å—Ç —É–¥–∞–ª–µ–Ω –∏–∑ Zabbix ‚Üí NetBox: decommissioning
–î–µ–Ω—å 40: –•–æ—Å—Ç —Å–Ω–æ–≤–∞ –¥–æ–±–∞–≤–ª–µ–Ω –≤ Zabbix
NetBox: –û–°–¢–ê–ï–¢–°–Ø decommissioning (!)
```

**–ö–æ–¥:**
```python
# sync.py:554
'status': 'active' if host_data.get('status') == '0' else 'offline',
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –≠—Ç–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–æ–≤—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤, –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç–∞—Ç—É—Å –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –µ—Å–ª–∏ –±—ã–ª decommissioning

**–†–µ—à–µ–Ω–∏–µ:**
- –í—Å–µ–≥–¥–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å status, –¥–∞–∂–µ –µ—Å–ª–∏ –±—ã–ª decommissioning

---

### 14. **Rack Assignment Logic Gap**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ï—Å–ª–∏ rack_name –µ—Å—Ç—å –≤ Zabbix, –Ω–æ —Å—Ç–æ–π–∫–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω–∞ –≤ NetBox
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ë–ï–ó —Å—Ç–æ–π–∫–∏, –Ω–æ –æ—à–∏–±–∫–∞ –Ω–µ –æ—á–µ–≤–∏–¥–Ω–∞

**–ö–æ–¥:**
```python
# sync.py:506
rack = self.ensure_rack(rack_name, site, location)
# –ï—Å–ª–∏ rack=None, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è –±–µ–∑ rack
```

**–†–µ—à–µ–Ω–∏–µ:**
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å warning –µ—Å–ª–∏ rack_name –∑–∞–¥–∞–Ω –Ω–æ rack –Ω–µ —Å–æ–∑–¥–∞–Ω

---

### 15. **IP Address Subnet Not Validated**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- IP —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å –º–∞—Å–∫–æ–π /32 –≤—Å–µ–≥–¥–∞ (sync.py:749)
- –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω–∞—è –ø–æ–¥—Å–µ—Ç—å
- –ú–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å routing –≤ NetBox

**–ö–æ–¥:**
```python
# sync.py:749
ip_with_mask = f"{ip}/32"  # –í—Å–µ–≥–¥–∞ /32
```

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–æ–ª—É—á–∞—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –ø–æ–¥—Å–µ—Ç—å –∏–∑ Zabbix –∏–ª–∏ NetBox prefix
- –ò–ª–∏ –¥–µ–ª–∞—Ç—å configurable (DEFAULT_IP_MASK)

---

### 16. **Batch Processing No Transaction Support**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–∞–∫–µ—Ç–∞–º–∏, –Ω–æ –Ω–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ –ø–∞–∫–µ—Ç–∞, —á–∞—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–∏–º–µ–Ω–µ–Ω–∞

**–ö–æ–¥:**
```python
# sync.py:846-851
for i in range(0, total, config.BATCH_SIZE):
    batch = all_hosts[i:i + config.BATCH_SIZE]
    for host in batch:
        self.sync_device(host)  # –ö–∞–∂–¥—ã–π –æ—Ç–¥–µ–ª—å–Ω–æ
```

**–†–µ—à–µ–Ω–∏–µ:**
- –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ç–µ–∫—É—â–µ–π –ª–æ–≥–∏–∫–∏, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º–æ–π –ø—Ä–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏

---

### 17. **Generic Models Accumulation**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –î–ª—è Unknown –º–æ–¥–µ–ª–µ–π —Å–æ–∑–¥–∞–µ—Ç—Å—è "Generic Server"
- –í—Å–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏ –º–∞–ø—è—Ç—Å—è –Ω–∞ –æ–¥–∏–Ω device_type
- –ü–æ—Ç–µ—Ä—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–µ–∞–ª—å–Ω–æ–º —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–∏

**–ö–æ–¥:**
```python
# sync.py:338
model = 'Generic Server'
```

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "Generic Server - {original_model}"
- –ò–ª–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ Unknown —Ç–∏–ø—ã

---

### 18. **Primary IP Not Updated If Already Set**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Primary IP –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ù–ï —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–ª–∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è (sync.py:773)
- –ï—Å–ª–∏ IP –∏–∑–º–µ–Ω–∏–ª—Å—è –Ω–æ device.primary_ip4 —É–∂–µ –±—ã–ª —Å—Ç–∞—Ä—ã–π IP, –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

**–ö–æ–¥:**
```python
# sync.py:773-777
if ip_address and (not device.primary_ip4 or device.primary_ip4.id != ip_address.id):
    device.primary_ip4 = ip_address.id
    device.save()
```

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —á—Ç–æ device.primary_ip4.address —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–µ–∫—É—â–∏–º IP

---

## üìä –°–í–û–î–ù–ê–Ø –¢–ê–ë–õ–ò–¶–ê –õ–û–ì–ò–ß–ï–°–ö–ò–• –î–´–†

| # | –ü—Ä–æ–±–ª–µ–º–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö | –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ | –°–ª–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
|---|----------|-----------|---------------|--------------|----------------------|
| 1 | –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ = –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ | üî¥ CRITICAL | ‚ùå | ‚úÖ | –°—Ä–µ–¥–Ω—è—è |
| 2 | –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è | üî¥ CRITICAL | ‚ùå | ‚úÖ | –õ–µ–≥–∫–∞—è |
| 3 | Orphaned IP addresses | üî¥ CRITICAL | ‚ùå | ‚úÖ | –°—Ä–µ–¥–Ω—è—è |
| 4 | –ü–µ—Ä–µ–∑–∞–ø–∏—Å—å —Ä—É—á–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π | üü° HIGH | ‚úÖ | ‚ùå | –°–ª–æ–∂–Ω–∞—è |
| 5 | Rack position conflicts | üü° HIGH | ‚ùå | ‚ö†Ô∏è | –°—Ä–µ–¥–Ω—è—è |
| 6 | Site not found ‚Üí no device | üü° HIGH | ‚úÖ | ‚ùå | –õ–µ–≥–∫–∞—è |
| 7 | Serial number duplicates | üü° HIGH | ‚ùå | ‚ö†Ô∏è | –õ–µ–≥–∫–∞—è |
| 8 | Custom fields not checked | üü° HIGH | ‚ö†Ô∏è | ‚ùå | –õ–µ–≥–∫–∞—è |
| 9 | Orphaned interfaces | üü¢ MEDIUM | ‚ùå | ‚ö†Ô∏è | –°—Ä–µ–¥–Ω—è—è |
| 10 | Redis cache invalidation | üü¢ MEDIUM | ‚ùå | ‚ö†Ô∏è | –°—Ä–µ–¥–Ω—è—è |
| 11 | Manufacturer variations | üü¢ MEDIUM | ‚ùå | ‚úÖ | –õ–µ–≥–∫–∞—è |
| 12 | Location slug conflicts | üü¢ MEDIUM | ‚ùå | ‚ö†Ô∏è | –õ–µ–≥–∫–∞—è |
| 13 | Status recovery | üü¢ MEDIUM | ‚ö†Ô∏è | ‚ùå | –õ–µ–≥–∫–∞—è |
| 14 | Rack assignment gaps | üü¢ MEDIUM | ‚ö†Ô∏è | ‚ùå | –õ–µ–≥–∫–∞—è |
| 15 | IP subnet /32 always | üü¢ MEDIUM | ‚ö†Ô∏è | ‚ùå | –õ–µ–≥–∫–∞—è |
| 16 | No transaction support | üü¢ LOW | ‚ö†Ô∏è | ‚ùå | –°–ª–æ–∂–Ω–∞—è |
| 17 | Generic models | üü¢ LOW | ‚ö†Ô∏è | ‚ùå | –õ–µ–≥–∫–∞—è |
| 18 | Primary IP update logic | üü¢ LOW | ‚ö†Ô∏è | ‚ùå | –°—Ä–µ–¥–Ω—è—è |

---

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢–ù–´–ô –ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

### –≠—Ç–∞–ø 1: Quick Wins (1-2 –¥–Ω—è)

1. **Site fallback** (#6) - –õ–µ–≥–∫–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å
```python
if not site:
    logger.warning(f"Site {site_name} –Ω–µ –Ω–∞–π–¥–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É—é {config.DEFAULT_SITE}")
    site = self.netbox.dcim.sites.get(name=config.DEFAULT_SITE)
```

2. **Custom fields check** (#8) - –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ

3. **Manufacturer normalization** (#11) - –£–ª—É—á—à–∏—Ç—å vendor_mapping

4. **Status recovery** (#13) - –í—Å–µ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è—Ç—å status

---

### –≠—Ç–∞–ø 2: Critical Fixes (3-5 –¥–Ω–µ–π)

1. **Device lookup by zabbix_hostid** (#1)
```python
# –°–Ω–∞—á–∞–ª–∞ –∏—â–µ–º –ø–æ hostid
device = self.netbox.dcim.devices.filter(cf_zabbix_hostid=host_id)
if device and device[0].name != host_name:
    # –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ
    device[0].name = host_name
    device[0].save()
```

2. **Orphaned IP cleanup** (#3)
```python
# –ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –Ω–æ–≤–æ–≥–æ IP –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ä—ã–π
if device.primary_ip4 and device.primary_ip4.address != ip_with_mask:
    old_ip = device.primary_ip4
    # –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º —Å—Ç–∞—Ä—ã–π IP
    old_ip.assigned_object_type = None
    old_ip.assigned_object_id = None
    old_ip.save()
```

3. **Physical device deletion** (#2)
```python
# –î–æ–±–∞–≤–∏—Ç—å –æ–ø—Ü–∏—é DELETE_AFTER_DECOMMISSION_DAYS
if status == 'decommissioning' and days_inactive > DELETE_AFTER_DECOMMISSION_DAYS:
    device.delete()
    logger.info(f"–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ {device.name} —Ñ–∏–∑–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–µ–Ω–æ")
```

---

### –≠—Ç–∞–ø 3: Advanced Features (1-2 –Ω–µ–¥–µ–ª–∏)

1. **Protected fields** (#4)
```python
PROTECTED_FIELDS = ['asset_tag', 'comments']  # –ù–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å
```

2. **Rack position validation** (#5)
```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ –ø–æ–∑–∏—Ü–∏–∏
if rack and rack_position:
    conflicts = self.netbox.dcim.devices.filter(
        rack_id=rack.id,
        position=rack_position
    )
    if conflicts:
        logger.error(f"–ü–æ–∑–∏—Ü–∏—è U{rack_position} —É–∂–µ –∑–∞–Ω—è—Ç–∞")
```

3. **Redis fallback** (#10)
```python
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å last_sync –≤–º–µ—Å—Ç–æ Redis
if not redis_available:
    # –°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –ø–æ last_sync timestamp –∏–∑ NetBox
```

---

## üìù –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### 1. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

```python
class ConflictResolution:
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏"""

    STRATEGIES = {
        'zabbix_wins': 'Zabbix –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç NetBox',
        'netbox_wins': 'NetBox –∑–∞—â–∏—â–µ–Ω –æ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏',
        'manual': '–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ'
    }
```

### 2. –î–æ–±–∞–≤–∏—Ç—å audit log

```python
# –ó–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É
audit_log = {
    'timestamp': datetime.now(),
    'device': device.name,
    'field': 'rack',
    'old_value': 'Rack01',
    'new_value': 'Rack02',
    'source': 'zabbix'
}
```

### 3. –î–æ–±–∞–≤–∏—Ç—å dry-run –¥–ª—è —É–¥–∞–ª–µ–Ω–∏–π

```python
if DELETE_DECOMMISSIONED and not config.DRY_RUN:
    device.delete()
else:
    logger.info(f"[DRY RUN] –ë—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ: {device.name}")
```

### 4. –î–æ–±–∞–≤–∏—Ç—å webhook notifications

```python
# –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
if device_renamed or device_deleted:
    send_webhook_notification(event_type, details)
```

---

## üß™ –¢–ï–°–¢–û–í–´–ï –°–¶–ï–ù–ê–†–ò–ò

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Ä–µ–∫–æ–º–µ–Ω–¥—É—é —Å–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã:

1. **Test device rename**: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Ö–æ—Å—Ç –≤ Zabbix ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–µ —Å–æ–∑–¥–∞–Ω –¥—É–±–ª–∏–∫–∞—Ç
2. **Test IP change**: –ò–∑–º–µ–Ω–∏—Ç—å IP ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å—Ç–∞—Ä—ã–π IP –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω
3. **Test device deletion**: –£–¥–∞–ª–∏—Ç—å –∏–∑ Zabbix ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å decommissioning ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ
4. **Test manual override**: –ò–∑–º–µ–Ω–∏—Ç—å –≤ NetBox ‚Üí –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ù–ï –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω–æ
5. **Test rack conflicts**: –î–≤–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –Ω–∞ –æ–¥–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å error handling

---

## üìå –í–´–í–û–î–´

### –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
‚úÖ **–•–æ—Ä–æ—à–æ:**
- –ù–∞–¥–µ–∂–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–æ–≤—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –•–æ—Ä–æ—à–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å rollback
- Redis –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

‚ö†Ô∏è **–ü–ª–æ—Ö–æ:**
- –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ —É–¥–∞–ª–µ–Ω–∏–π
- –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–π
- Orphaned —Ä–µ—Å—É—Ä—Å—ã –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è
- –ü–µ—Ä–µ–∑–∞–ø–∏—Å—å —Ä—É—á–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

### –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:
- **–ë–õ–û–ö–ï–†–´:** #1 (–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ), #3 (orphaned IP)
- **–í–´–°–û–ö–ò–ô:** #2 (—É–¥–∞–ª–µ–Ω–∏–µ), #4 (–ø–µ—Ä–µ–∑–∞–ø–∏—Å—å), #5 (conflicts)
- **–°–†–ï–î–ù–ò–ô:** –û—Å—Ç–∞–ª—å–Ω—ã–µ

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:
**–ù–∞—á–∞—Ç—å —Å –≠—Ç–∞–ø–∞ 1 (quick wins) –∏ –≠—Ç–∞–ø–∞ 2 (#1, #2, #3)** - —ç—Ç–æ –∑–∞–∫—Ä–æ–µ—Ç 80% –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º –∑–∞ 1 –Ω–µ–¥–µ–ª—é —Ä–∞–±–æ—Ç—ã.
